# [VKinder](https://github.com/netology-code/py-advanced-diplom/tree/new_diplom) - Tinder для бедных

## Приложение подбирает подходящих пользователей по устанавливаемым критериям

# Вход в приложение 
При запуске приложения вам будет предложен ввод токена группы от вконтакте 
```
Введите токен группы:
```
При успешном вводе выведется 
```
токен сохранен успешно
началась прослушка
```
С этого момента бот прослушивает чат

# Список команд
чтобы узнать список команд достаточно написать в чат ```команды```

Результат команды ```команды```
```
найти
критерии
фавориты
сохранить
установить
команды
```

* ### ```найти``` - получение списка подходящих пользователей
    Спустя примерно 3 секунды выведется список подходящих пользователей 
    Получение фотографий - узкое место программы (вк апи с этим работает очень медленно)
    ```
  Id пользователя: https://vk.com/id1493087
  Список фото: https://sun9-70.userapi.com/impg/oVxq732Ib_4B750D6hAN..
  https://sun9-74.userapi.com/impf/c624325/v624325087/4..
  https://sun9-49.userapi.com/c10200/u1493087/-6/x_05d3..

  Id пользователя: https://vk.com/id40629017
  Список фото: https://sun9-63.userapi.com/impg/4toZHE7zbSWUU4T7ggUr..
  https://sun9-61.userapi.com/impg/c_rh_qD-ze2hul3d3-p4..
  https://sun9-27.userapi.com/impf/c621926/v621926017/3..

  Id пользователя: https://vk.com/id114128268
  Список фото: https://sun9-45.userapi.com/impf/c630726/v630726268/1..
  https://sun9-75.userapi.com/impg/7YSZs8L_J7R6HAKJCyCR..
  https://sun9-43.userapi.com/impf/LU0joalC4eD44XodhB6y..
    ```
    При повторном запросе в рамках одного запуска пользователи не повторяются.  
    Дополнительно из списка выдачи исключаются пользователи добавленные в избранное  
    
    Когда пользователи по подходящим критериям исчерпаются при вводе команды выведется
    ```
  Не найдено подходящих пользователей. Измените критерии поиска
    ```
* ### ```критерии``` - получение списка установленных критериев
  Команда отображает список критериев для поиска  
  Критерии автоматически устанавливаются в зависимости от пользователя
  
  Определяется город и противоположный пол (если указаны у пользователя)
  ```
  Список критериев:
    Возраст: от 0 до 9999 | необязательный | вес 1.0
    Пол: женщина | обяательный | вес 1.0
    Город: Оренбург | обяательный | вес 1.0
    Статус отношений: в активном поиске | обяательный  | вес 1.0

  ```
  Параметры имеют флажок (обязательный\необязательный) это эквиваентно включению или отключению критерия
  
  Результаты сортируются исходя из суммы весов совпадения по критериям
  
* ### ```установить``` - установка параметров поиска
  Пример ввода команды

  ```
  установить Город: Москва | обязательный | вес 1.0
  ```
  
  Исключенеи составляют критерии пола и статуса отношений. Там вместо значений надо вводить цифры (можно найти https://vk.com/dev/account.getProfileInfo)
  
  ```
  установить Пол: 2 | необязательный | вес 1.0
  ```

* ### ```сохранить``` - добавить пользователя в избранное по id
  добавить можно только пользователя, который выводился в качестве подходящих.

  ```
  сохранить 675533990
  ```

* ### ```фавориты``` - получить список избранных пользователей
